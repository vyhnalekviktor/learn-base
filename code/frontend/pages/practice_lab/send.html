<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BaseCamp - Send Funds</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/tutorial.css">
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>Sending Funds on Base</h1>
            <p class="subtitle">Guide to your first transaction on Base</p>
            <br>

            <div class="accordion-item">
                <button class="accordion-header" onclick="toggleAccordion('need')">
                    <span>What Do You Need?</span>
                    <span class="accordion-icon" id="icon-need">▼</span>
                </button>
                <div class="accordion-content" id="content-need">
                    <p>You need <strong>USDC and ETH on Base</strong> for transactions. USDC is what you'll send, while ETH pays for gas fees (transaction costs). Gas fees on Base are extremely cheap - typically $0.01-0.05 per transaction.</p>

                    <p><strong>For Mainnet:</strong> You can bridge USDC from Ethereum to Base using <a href="#" onclick="openBridgeBase(); return false;">bridge.base.org</a>, or buy USDC directly on an exchange and withdraw it to your Base wallet address.</p>

                    <p><strong>For Testnet:</strong> We're using Base Sepolia testnet, so you don't have to buy anything! Get free test USDC from <a href="#" onclick="openCircleFaucet(); return false;">Circle Faucet</a> (select "Base Sepolia"). You already got free test funds from the faucet in the previous step.</p>
                </div>
            </div>

            <div class="accordion-item">
                <button class="accordion-header" onclick="toggleAccordion('steps')">
                    <span>Step-by-Step Instructions</span>
                    <span class="accordion-icon" id="icon-steps">▼</span>
                </button>
                <div class="accordion-content" id="content-steps">
                    <p>In your wallet (Coinbase Wallet or MetaMask), follow these steps:</p>
                    <ol>
                        <li>Tap <strong>"Send"</strong> or <strong>"Transfer"</strong></li>
                        <li>Select <strong>USDC</strong> as the token to send</li>
                        <li>Make sure you're on the <strong>Base network</strong> (or Base Sepolia for testnet)</li>
                        <li>Enter the <strong>recipient's wallet address</strong> or scan their QR code</li>
                        <li>Enter the <strong>amount</strong> of USDC you want to send</li>
                        <li>Review the transaction details and gas fee</li>
                        <li>Confirm and send</li>
                    </ol>

                    <div class="warning-box">
                        ⚠️ <strong>Important:</strong> Always double-check the recipient address! Blockchain transactions are <strong>irreversible</strong> - if you send to the wrong address, you cannot get your funds back.
                    </div>
                </div>
            </div>

            <div class="accordion-item">
                <button class="accordion-header" onclick="toggleAccordion('review')">
                    <span>Review Before Sending</span>
                    <span class="accordion-icon" id="icon-review">▼</span>
                </button>
                <div class="accordion-content" id="content-review">
                    <p>Before finalizing, <strong>review all transaction details carefully:</strong></p>
                    <ul>
                        <li><strong>Recipient address</strong> - matches the person/service you intend to send to</li>
                        <li><strong>Amount</strong> - correct number of USDC</li>
                        <li><strong>Network</strong> - shows "Base" (or "Base Sepolia" for testnet)</li>
                        <li><strong>Gas fee</strong> - typically a few cents on Base</li>
                    </ul>
                    <p>When everything looks correct, tap <strong>"Confirm"</strong> or <strong>"Send"</strong>.</p>
                </div>
            </div>

            <div class="accordion-item">
                <button class="accordion-header" onclick="toggleAccordion('signing')">
                    <span>What Is "Signing" a Transaction?</span>
                    <span class="accordion-icon" id="icon-signing">▼</span>
                </button>
                <div class="accordion-content" id="content-signing">
                    <p>When you approve, your wallet uses your <strong>private key to create a digital signature</strong>. This signature proves:</p>
                    <ul>
                        <li>You own the wallet sending the funds</li>
                        <li>You authorized this specific transaction</li>
                        <li>The transaction details haven't been tampered with</li>
                    </ul>
                    <p><strong>Security Note:</strong> Your private key <strong>never</strong> leaves your device - only the signature is sent to the network.</p>
                </div>
            </div>

            <div class="accordion-item">
                <button class="accordion-header" onclick="toggleAccordion('happens')">
                    <span>What Happens After You Send?</span>
                    <span class="accordion-icon" id="icon-happens">▼</span>
                </button>
                <div class="accordion-content" id="content-happens">
                    <p>Once signed, here's what happens behind the scenes:</p>
                    <ol>
                        <li>Your USDC transaction is sent to Base's sequencer (special validator node)</li>
                        <li>Base processes your transaction <strong>off-chain in 1-2 seconds</strong> (Layer 2 speed!)</li>
                        <li>You receive confirmation - transaction is complete and USDC is transferred</li>
                        <li>Base bundles your transaction with thousands of others</li>
                        <li>The batch is submitted to Ethereum mainnet for final security (15-20 min later)</li>
                    </ol>
                    <p>The recipient can now see and use the USDC you sent!</p>
                </div>
            </div>

            <div class="accordion-item">
                <button class="accordion-header" onclick="toggleAccordion('gas')">
                    <span>Understanding Gas Fees</span>
                    <span class="accordion-icon" id="icon-gas">▼</span>
                </button>
                <div class="accordion-content" id="content-gas">
                    <p>Gas fees are paid in ETH to process your USDC transaction on the blockchain. On Base, they're <strong>95-99% cheaper</strong> than Ethereum mainnet!</p>

                    <div class="comparison-box">
                        <div class="compare-item">
                            <h4>Ethereum Mainnet</h4>
                            <ul>
                                <li>Gas: $5-50+</li>
                                <li>Speed: 12-15 sec</li>
                            </ul>
                        </div>
                        <div class="compare-item">
                            <h4>Base (L2)</h4>
                            <ul>
                                <li>Gas: $0.01-0.05</li>
                                <li>Speed: 1-2 sec</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="try-section">
                <h3>Try it yourself!</h3>
                <p>Practice sending a small amount of test USDC on Base Sepolia:</p>

                <div class="info-box">
                    <strong>Test Recipient:</strong><br>
                    <code>0x02D6cB44CF2B0539B5d5F72a7a0B22Ac73031117</code><br><br>
                    <strong>Amount:</strong> 1 USDC (just for practice)
                </div>

                <button onclick="sendTransaction()" class="cta-button">
                    Send 1 USDC
                </button>

                <div id="txStatus" style="display: none; margin-top: 20px;"></div>

                <p style="margin-top: 20px; font-size: 0.9em; color: #666;">
                    After sending, you can view your transaction on <a href="#" onclick="openBaseScan(); return false;">sepolia.basescan.org</a>
                </p>
            </div>

        </div>

        <div class="nav-footer">
            <a href="faucet.html" class="nav-btn back-btn">
                <span>←</span>
                <span class="nav-label">Faucet</span>
            </a>

            <a href="../mainmenu/base-chain-lab.html" class="nav-btn next-btn">
                <span>→</span>
                <span class="nav-label">Menu</span>
            </a>
        </div>
    </div>

    <script type="module" src="../src/practicelab/practiceSend.js"></script>
</body>
</html>
